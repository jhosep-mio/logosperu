(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6707],{8796:function(e,t,r){Promise.resolve().then(r.bind(r,6995))},6995:function(e,t,r){"use strict";r.r(t),r.d(t,{ContenidoPago:function(){return j}});var s=r(7437),l=r(2265),a=r(4104),o=r(2050),i=r(5540),n=r(7311);let c=()=>{let{cart:e}=(0,a.Z)();return(0,s.jsxs)("div",{className:"w-[70%]",children:[(0,s.jsxs)("div",{className:"grid grid-cols-5 py-3 px-8 bg-[#E8E8E8]",children:[(0,s.jsx)("h5",{className:"col-span-2 text-[1.6rem] text-gray-600 text-left font-semibold uppercase",children:"PRODUCTO"}),(0,s.jsx)("h5",{className:"col-span-1 text-[1.6rem] text-gray-600 text-right font-semibold uppercase",children:"Precio"}),(0,s.jsx)("h5",{className:"col-span-1 text-[1.6rem] text-gray-600 text-center font-semibold uppercase",children:"Cantidad"}),(0,s.jsx)("h5",{className:"col-span-1 text-[1.6rem] text-gray-600 text-center font-semibold uppercase",children:"Total"})]}),(0,s.jsx)("div",{className:"",children:e.length>0?e.map(e=>(0,s.jsx)("div",{className:"p-4 rounded-md mb-4 overflow-hidden border-b border-gray-200",children:(0,s.jsxs)("div",{className:"grid grid-cols-5 pl-3 ",children:[(0,s.jsxs)("div",{className:"col-span-2 flex items-center gap-5",children:[(0,s.jsx)("img",{src:"".concat(o.x.urlImages,"/itemsportafolios/").concat(e.imagen1),className:"w-24 h-w-24 object-contain",alt:"Carrito"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h5",{className:"text-[1.8rem] line-clamp-2 text-gray-700",children:e.titulo}),(0,s.jsx)("p",{className:"text-[1.4rem] text-gray-500 line-clamp-1",children:(0,n.f)(e.categoria)})]})]}),(0,s.jsx)("div",{className:"w-full col-span-1 h-full text-gray-800",children:(0,s.jsxs)("span",{className:"text-right w-full text-[1.7rem] h-full flex items-center justify-end",children:["S/. ",e.precio]})}),(0,s.jsx)("div",{className:"w-full col-span-1 h-full",children:(0,s.jsx)("span",{className:"text-center w-full h-full text-[1.7rem] text-gray-600 flex items-center justify-center",children:e.cantidad})}),(0,s.jsxs)("div",{className:"w-full col-span-1 h-full flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"text-center w-full h-full text-[1.7rem] text-red-500 font-bold flex items-center justify-center",children:["S/. ",null!=e.cantidad&&(parseFloat(e.precio)*e.cantidad).toFixed(2)]}),(0,s.jsx)(i.o,{producto:e})]})]})},e.id)):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsxs)("p",{className:"w-full text-center text-3xl mt-6",children:["Aun no tienes productos en el carrito. ",(0,s.jsx)("br",{})," Comienza a llenarlo."]})})})]})},d=e=>(0,s.jsx)("p",{className:"absolute -bottom-7 left-0  text-xl p-0 m-0 mt-0 pl-2",children:null!==e.errors&&void 0!==e.errors&&""!==e.errors&&null!==e.touched&&void 0!==e.touched&&e.touched&&(0,s.jsx)("span",{className:"text-[red] text-center block",children:e.errors})});var u=r(2124),m=r(6230),p=r(1697),x=r(9222);let f=x.Z.create({baseURL:"https://api.culqi.com/v2",headers:{post:{"Content-Type":"application/json"}}});f.interceptors.response.use(null,e=>{if(e&&"Network Error"===e.message)throw Error("\xa1Ups! Algo sali\xf3 mal. Intente mas tarde.");throw e});let h=async e=>{let{amount:t,currency:r,sk:s,email:l,token:a,cart:i,setLoading:n}=e;try{let e=await f.post("/charges",{amount:t,currency_code:r,description:"Productos - Logos Per\xfa",email:l,source_id:a},{headers:{Authorization:"Bearer ".concat(s)}});if(201===e.status||200===e.status){var c,d,u,m,p;let r=e.data,s=JSON.parse(null!==(c=localStorage.getItem("Contacto"))&&void 0!==c?c:""),l=localStorage.getItem("token"),a=new FormData;a.append("id_transaccion",r.id),a.append("status",r.outcome.type),a.append("tipo",JSON.stringify(r.source)),a.append("order_id",r.outcome.type),a.append("nombres",null!==(d=null==s?void 0:s.nombres)&&void 0!==d?d:""),a.append("apellidos",null!==(u=null==s?void 0:s.apellidos)&&void 0!==u?u:""),a.append("email",null!==(m=null==s?void 0:s.correo)&&void 0!==m?m:""),a.append("celular",null!==(p=null==s?void 0:s.celular)&&void 0!==p?p:""),a.append("total_pago",t),a.append("array_productos",JSON.stringify(i));try{let e=await x.Z.post("".concat(o.x.url,"/handleSuccessTransaction"),a,{headers:{Authorization:"Bearer ".concat(null!==l&&""!==l?l:"")}});"success"==e.data.status&&(localStorage.setItem("cart","[]"),n(!1),window.location.href="/succes_pago")}catch(e){console.log(e)}}}catch(e){return{res:e.response.data,success:!1}}},g=()=>{let{cart:e,setShowError:t}=(0,a.Z)(),[r,o]=(0,l.useState)(null),[i,n]=(0,l.useState)(!1);(0,l.useEffect)(()=>{{let e=window.Culqi;e.publicKey="pk_test_df74a93b1bc11f38",e.init(),o(e)}},[]);let{handleSubmit:c,handleChange:x,errors:f,values:g,touched:b,handleBlur:j,isSubmitting:v}=(0,m.TA)({initialValues:{nombres:"",apellidos:"",celular:"",correo:""},validationSchema:u.JF,onSubmit:e=>{t({estado:"warning",texto:"Pago en online en matenimiento"})}});function N(){let t=0;for(let r=0;r<e.length;r++){let s=e[r];if(null!==s.precio&&s.cantidad){let e=parseFloat(s.precio)*s.cantidad;t+=e}}return t.toFixed(2)}(0,l.useEffect)(()=>{r&&(window.culqi=()=>{if(r.token&&"token"===r.token.object){let e=r.token.id,t=r.token.email;y(e,t)}else{var e,t;alert("Hubo un error al generar el token: \n ".concat(null!==(t=null!==(e=r.error.user_message)&&void 0!==e?e:r.error.merchant_message)&&void 0!==t?t:""))}})},[r]);let y=async(t,r)=>{let s=function(){let t=0;for(let r=0;r<e.length;r++){let s=e[r];if(null!==s.precio&&s.cantidad){let e=parseFloat(s.precio)*s.cantidad;t+=e}}return(100*t).toFixed(0)}();n(!0),await h({amount:s,currency:"PEN",sk:"sk_test_8bbd58ab7efbd965",email:r,token:t,cart:e,setLoading:n})};return(0,l.useEffect)(()=>{if(f&&v){let e=Object.keys(f)[0],t=document.getElementsByName(e)[0];t&&t.focus()}},[b,f,v]),(0,s.jsxs)(s.Fragment,{children:[i&&(0,s.jsx)("div",{className:"fixed z-[99999999999] w-screen h-screen bg-black/40 inset-0",children:(0,s.jsx)("div",{className:"centrarclase_do_spinner",children:(0,s.jsxs)("div",{className:"dot-spinner",children:[(0,s.jsx)("div",{className:"dot-spinner__dot"}),(0,s.jsx)("div",{className:"dot-spinner__dot"}),(0,s.jsx)("div",{className:"dot-spinner__dot"}),(0,s.jsx)("div",{className:"dot-spinner__dot"}),(0,s.jsx)("div",{className:"dot-spinner__dot"}),(0,s.jsx)("div",{className:"dot-spinner__dot"}),(0,s.jsx)("div",{className:"dot-spinner__dot"}),(0,s.jsx)("div",{className:"dot-spinner__dot"})]})})}),(0,s.jsx)("form",{className:"w-[30%] flex flex-col gap-6",action:"",onSubmit:c,children:e.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"border border-gray-400 p-6 w-full",children:[(0,s.jsxs)("h2",{className:"text-gray-800 font-semibold text-3xl m-0 p-0 flex gap-4 items-center ",children:[" ",(0,s.jsx)(p.RII,{className:"text-4xl"}),"Datos de contacto"]}),(0,s.jsx)("div",{className:"my-8 w-full flex flex-col gap-5 ",children:(0,s.jsxs)("div",{className:"flex flex-col gap-7",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex relative",children:[(0,s.jsx)("input",{type:"text",name:"nombres",value:g.nombres,onChange:x,onBlur:j,className:"outline-none w-full px-4 py-4 bg-transparent border border-gray-300 rounded-xl text-[1.6rem]",placeholder:"Nombres"}),(0,s.jsx)(d,{errors:f.nombres,touched:b.nombres})]}),(0,s.jsxs)("div",{className:"flex relative",children:[(0,s.jsx)("input",{type:"text",name:"apellidos",value:g.apellidos,onChange:x,onBlur:j,className:"outline-none w-full px-4 py-4 bg-transparent border border-gray-300 rounded-xl text-[1.6rem]",placeholder:"Apellidos"}),(0,s.jsx)(d,{errors:f.apellidos,touched:b.apellidos})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex relative",children:[(0,s.jsx)("input",{type:"text",name:"celular",value:g.celular,onChange:x,onBlur:j,className:"outline-none w-full px-4 py-4 bg-transparent border border-gray-300 rounded-xl text-[1.6rem]",placeholder:"Celular"}),(0,s.jsx)(d,{errors:f.celular,touched:b.celular})]}),(0,s.jsxs)("div",{className:"flex relative",children:[(0,s.jsx)("input",{type:"text",name:"correo",value:g.correo,onChange:x,onBlur:j,className:"outline-none w-full px-4 py-4 bg-transparent border border-gray-300 rounded-xl text-[1.6rem]",placeholder:"Correo electronico"}),(0,s.jsx)(d,{errors:f.correo,touched:b.correo})]})]})]})})]}),(0,s.jsx)("div",{className:"border border-gray-400 p-6 w-full",children:(0,s.jsxs)("div",{className:"my-8 w-full flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex gap-5 justify-between border-b border-gray-300 pb-2",children:[(0,s.jsx)("span",{className:"w-1/2 text-right text-[1.7rem]",children:"Subtotal"}),(0,s.jsxs)("span",{className:"w-1/2 text-right text-[1.7rem]",children:["S./",N()]})]}),(0,s.jsxs)("div",{className:"flex gap-5 justify-between",children:[(0,s.jsx)("span",{className:"w-1/2 text-right text-[1.7rem] font-semibold",children:"Total"}),(0,s.jsxs)("span",{className:"w-1/2 text-right text-[1.7rem] font-semibold",children:["S./",N()]})]})]})}),(0,s.jsxs)("button",{type:"submit",className:"bg-primary w-full block py-4 rounded-2xl text-[1.8rem] hover:bg-primary_dark transition-colors",children:[" ","Comprar"]})]})})]})};var b=r(8920);let j=()=>{let{cart:e}=(0,a.Z)();return(0,s.jsxs)("div",{className:"max-w-[1350px] mx-auto",children:[(0,s.jsxs)("h2",{className:"text-5xl lg:text-7xl font-semibold font_baloo text-left text-primary flex items-center gap-5 border-b border-gray-200 pb-4",children:[(0,s.jsx)(b.Qyq,{}),"Mi carrito ",(0,s.jsxs)("span",{className:"text-gray-400 text-5xl",children:["(",e.length,")"]})]}),(0,s.jsxs)("section",{className:"flex gap-6 pt-6",children:[(0,s.jsx)(c,{}),(0,s.jsx)(g,{})]})]})}},2050:function(e,t,r){"use strict";r.d(t,{x:function(){return s}});let s={url:"https://api.logosperu.com.pe/public/api",urlImages:"https://api.logosperu.com.pe/public"}},8196:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return o}});var s=r(7437),l=r(2265);let a=(0,l.createContext)(null),o=e=>{let{children:t}=e,[r,o]=(0,l.useState)([]),[i,n]=(0,l.useState)([]),[c,d]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("cart"),t=localStorage.getItem("heard");if(e){let t=JSON.parse(e);o(t)}if(t){let e=JSON.parse(t);n(e)}},[]);let[u,m]=(0,l.useState)(null);return(0,s.jsx)(a.Provider,{value:{cart:r,setHeard:n,heard:i,setCart:o,carrito:c,setCarrito:d,showError:u,setShowError:m},children:t})};t.default=a},5540:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var s=r(7437);r(2265);var l=r(4606),a=r(4104);let o=e=>{let{producto:t}=e,{cart:r,setCart:o,setShowError:i}=(0,a.Z)();return(0,s.jsx)(l.AuQ,{className:"text-3xl text-primary cursor-pointer mb-1",title:"Eliminar item",onClick:()=>{!function(e){let t=r.filter(t=>t.id!==e.id||t.titulo!==e.titulo);o(t),i({estado:"success",texto:"Producto eliminado"}),localStorage.setItem("cart",JSON.stringify(t))}(t)}})}},7311:function(e,t,r){"use strict";r.d(t,{f:function(){return s}});let s=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},4104:function(e,t,r){"use strict";var s=r(2265),l=r(8196);t.Z=()=>{let e=(0,s.useContext)(l.default);if(null===e)throw Error("useAuth must be used within an AuthProvider");return e}},2124:function(e,t,r){"use strict";r.d(t,{JF:function(){return l},YL:function(){return a},pB:function(){return o}});var s=r(5691);let l=s.Ry().shape({nombres:s.Z_().required("Este campo es requerido").min(3,"Debe tener almenos 3 digitos"),apellidos:s.Z_().required("Este campo es requerido").min(3,"Debe tener almenos 3 digitos"),celular:s.Z_().required("Este campo es requerido").min(7,"Debe tener almenos 7 digitos"),correo:s.Z_().email("Digite un email valido").required("Este campo es requerido")});s.Ry().shape({nombre:s.Z_().required("Este campo es requerido").min(3,"Debe tener como minimo 3 digitos"),apellido:s.Z_().required("Este campo es requerido").min(3,"Debe tener como minimo 3 digitos"),celular1:s.Z_().required("Este campo es requerido").min(9,"El numero debe tener 9 digitos").max(9,"El numero debe tener 9 digitos"),email:s.Z_().email("Email invalido").required("Este campo es requerido"),comentario:s.Z_(),despacho:s.Z_().required("Este campo es requerido"),direccion:s.Z_().min(20,"Sea mas especifico").nullable(),departamento:s.Z_().nullable(),distrito:s.Z_().nullable()});let a=s.Ry().shape({nombres:s.Z_().required("Este campo es requerido").min(3,"Debe tener como minimo 3 digitos"),celular:s.Z_().required("Este campo es requerido").min(7,"Debe tener como minimo 7 digitos"),email:s.Z_().required("Este campo es requerido").email("Introduce un email v\xe1lido"),servicios:s.Z_().required("Este campo es requerido"),mensaje:s.Z_().required("Este campo es requerido")});s.Ry().shape({preguntas:s.Z_().required("Este campo es requerido")});let o=s.Ry().shape({nombres:s.Z_().required("Este campo es requerido").min(3,"Debe tener como minimo 3 digitos"),empresa:s.Z_().required("Este campo es requerido").min(3,"Debe tener como minimo 3 digitos"),celular:s.Z_().required("Este campo es requerido").min(7,"Debe tener como minimo 7 digitos"),email:s.Z_().required("Este campo es requerido").email("Introduce un email v\xe1lido")})}},function(e){e.O(0,[3033,8447,2613,6739,2971,7864,1744],function(){return e(e.s=8796)}),_N_E=e.O()}]);